tasks:
  lint:
    desc: "Запуск ruff"
    cmd: hatch run ruff .

  test:
    desc: "Запуск pytest через uv"
    env:
      PYTHONPATH: "."
    cmd: |
      hatch run pip install -e .
      hatch run uv run -- env=PYTHONPATH pytest --maxfail=1 --disable-warnings

  build:
    desc: "Сборка"
    cmd: hatch build

  install:
    desc: "Установка в editable"
    cmd: hatch run pip install -e .

  package:
    desc: "Создание дистрибутива"
    cmd: hatch build

  install-package:
    desc: "Установка пакета из dist"
    cmd: pip install dist/*.tar.gz